---
import { Icon } from "astro-icon/components";

interface Props {
  text: string;
  href: string;
  target?: "_blank" | "_self";
  title?: string;
  style?: "primary" | "secondary";
  isUnderlined?: boolean;
  icon?: {
    name: string;
    side: "left" | "right";
  };
  classes?: string;
}

const { text, href, style = "primary", isUnderlined, icon, classes, ...rest } = Astro.props as Props;
---

<a href={href} class:list={["link", `link--${style}`, isUnderlined && "link--underlined", classes].filter(Boolean).join(" ")} {...rest}>
  {
    icon && icon.side === "left" && (
      <Icon name={icon.name} height={24} width={24} />
    )
  }

  <span>{text}</span>

  {
    icon && icon.side === "right" && (
      <Icon name={icon.name} height={24} width={24} />
    )
  }
</a>

<style lang="scss">
  .link {
    color: var(--color-text-primary);
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    gap: var(--space-8);
    opacity: 1;
    transition: opacity 0.2s ease;

    &:hover {
      opacity: 0.6;
    }

    &--underlined {
      text-decoration: underline;
      text-underline-offset: var(--size-4);
      text-decoration-thickness: var(--size-1);
      text-decoration-skip-ink: none;
      text-decoration-color: var(--color-text-link-secondary)
    }

    &--primary {
      color: var(--color-text-link-primary);
    }

    &--secondary {
      color: var(--color-text-link-secondary);
    }
  }
</style>
