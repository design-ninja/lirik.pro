---
import Button from '../Button.astro';
import { formatPaginationAria, formatPaginationLabel, translate, type Locale } from '../../utils/i18n';

type Props = {
  page: any;
  locale: Locale;
};

const { page, locale } = Astro.props as Props;
const navLabel = translate(locale, 'paginationNavLabel');
---

<nav aria-label={navLabel} class="Paginator">
  {
    page.url.prev && (
      <Button
        class="Paginator__Button"
        color="ghost"
        href={page.url.prev}
        aria-label={formatPaginationAria(locale, page.currentPage - 1, page.lastPage)}
      >
        ←
      </Button>
    )
  }
  <span aria-current="page">{formatPaginationLabel(locale, page.currentPage, page.lastPage)}</span>
  {
    page.url.next && (
      <Button
        class="Paginator__Button"
        color="ghost"
        href={page.url.next}
        aria-label={formatPaginationAria(locale, page.currentPage + 1, page.lastPage)}
      >
        →
      </Button>
    )
  }
</nav>

<style lang="scss">
  .Paginator {
    &__Button {
      font-size: var(--font-size-24);
      padding: var(--space-8) var(--space-16);
    }
  }
</style>
