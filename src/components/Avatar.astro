---
import { Image } from 'astro:assets';
import avatarImage from '../assets/avatar.png';

interface Props {
  size?: 'small' | 'medium' | 'large';
  loading?: 'lazy' | 'eager';
}

const { size = 'medium', loading = 'lazy' } = Astro.props as Props;
const fetchpriority = loading === 'eager' ? 'high' : 'auto';
const decoding = loading === 'eager' ? 'sync' : 'async';
---

<Image
  src={avatarImage}
  alt="Kirill Isachenko"
  class={`avatar avatar--${size}`}
  loading={loading}
  format="webp"
  fetchpriority={fetchpriority}
  decoding={decoding}
/>

<style lang="scss">
  .avatar {
    border-radius: var(--radius-round);

    &--small {
      width: var(--size-48);
      height: var(--size-48);
    }

    &--medium {
      width: var(--size-64);
      height: var(--size-64);
    }

    &--large {
      width: var(--size-80);
      height: var(--size-80);
    }
  }
</style>
