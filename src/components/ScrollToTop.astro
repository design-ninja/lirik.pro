---
---

<button class="ScrollToTop" aria-label="Scroll to top" type="button">
  <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 16V4M10 4L4 10M10 4L16 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>
</button>

<style lang="scss">
  .ScrollToTop {
    position: fixed;
    bottom: var(--space-24);
    right: var(--space-24);
    z-index: 100;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 48px;
    height: 48px;
    padding: 0;
    background-color: var(--color-bg-black-overlay);
    backdrop-filter: blur(8px);
    color: var(--color-icon-static-white);
    border: none;
    border-radius: var(--radius-round);
    cursor: pointer;
    opacity: 0;
    visibility: hidden;
    transform: translateY(16px);
    transition:
      opacity 0.3s ease,
      visibility 0.3s ease,
      transform 0.3s ease;

    &:hover {
      opacity: 0.9;
    }

    &.ScrollToTop_visible {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }
  }
</style>

<script>
  function initScrollToTop() {
    const button = document.querySelector('.ScrollToTop');
    if (!button) return;

    const threshold = window.innerHeight;

    function toggleVisibility() {
      if (window.scrollY > threshold) {
        button?.classList.add('ScrollToTop_visible');
      } else {
        button?.classList.remove('ScrollToTop_visible');
      }
    }

    function scrollToTop() {
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    }

    window.addEventListener('scroll', toggleVisibility, { passive: true });
    button.addEventListener('click', scrollToTop);

    toggleVisibility();
  }

  document.addEventListener('astro:page-load', initScrollToTop);
</script>

