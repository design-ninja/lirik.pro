---
import SectionTitle from './SectionTitle.astro';
import { getSiteLocaleConfig } from '../data/site-config';
import { type Locale } from '../utils/i18n';

type Props = {
  locale: Locale;
};

const { locale } = Astro.props as Props;
const site = getSiteLocaleConfig(locale);
const petProjects = site.petProjects;
---

{petProjects && (
  <section class="PetProjects" id="pet-projects" aria-label={petProjects.ariaLabel}>
    <SectionTitle title={petProjects.title} />

    <div class="PetProjects__Grid">
      {petProjects.items.map((project) => (
        <article class="PetProjects__Card">
          <h3 class="PetProjects__Title">{project.title}</h3>
          <p class="PetProjects__Description">{project.description}</p>
          {project.links?.length ? (
            <div class="PetProjects__Links">
              {project.links.map((link, index) => (
                <span class="PetProjects__LinkWrapper">
                  <a href={link.href} target="_blank" rel="noopener">{link.text}</a>
                  {index < project.links.length - 1 && <span aria-hidden="true">â€¢</span>}
                </span>
              ))}
            </div>
          ) : null}
        </article>
      ))}
    </div>
  </section>
)}

<style lang="scss">
  .PetProjects {
    &__Grid {
      display: grid;
      gap: var(--space-16);
      grid-template-columns: repeat(3, 1fr);

      @media (max-width: 1200px) {
        grid-template-columns: repeat(2, 1fr);
      }
      @media (max-width: 700px) {
        grid-template-columns: 1fr;
      }
    }

    &__Card {
      background: var(--color-bg-raised);
      padding: var(--space-24);
      display: grid;
      grid-template-rows: auto 1fr auto;
      gap: var(--space-12);
      border-radius: var(--radius-m);
      min-height: 16rem;
    }

    &__Title {
      font-size: var(--font-size-18);
      margin: 0;
    }

    &__Description {
      margin: 0;
      color: var(--color-text-secondary);
    }

    &__Links {
      display: flex;
      gap: var(--space-8);
      align-items: center;
    }

    &__LinkWrapper {
      display: inline-flex;
      align-items: center;
      gap: var(--space-8);
    }
  }
</style>


